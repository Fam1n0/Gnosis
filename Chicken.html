<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>H Vision S</title><style>body{margin:0;display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;background-color:black;}canvas{border:1px solid white;width:100%;height:100%;}#controls{display:flex;flex-direction:column;position:absolute;bottom:10px;width:90%;background:rgba(0,0,0,0.7);padding:10px;border-radius:5px;}#controls .control{margin-bottom:5px;}#controls label{color:white;}#toggleButton{position:absolute;top:10px;left:10px;padding:10px;border-radius:5px;background:rgba(255,255,255,0.7);}</style></head><body><input type="file" id="uploadImage" accept="image/*" style="display:none;"><canvas id="canvas"></canvas><div id="controls"><div class="control"><label for="frequency1">Frequency 1: </label><input type="range" id="frequency1" min="0" max="1" step="0.01" value="0.02"></div><div class="control"><label for="frequency2">Frequency 2: </label><input type="range" id="frequency2" min="0" max="1" step="0.01" value="0.02"></div><div class="control"><label for="frequency3">Frequency 3: </label><input type="range" id="frequency3" min="0" max="1" step="0.01" value="0.02"></div><div class="control"><label for="frequency4">Frequency 4: </label><input type="range" id="frequency4" min="0" max="1" step="0.01" value="0.02"></div><div class="control"><label for="intensity1">Intensity 1: </label><input type="range" id="intensity1" min="0" max="100" value="50"></div><div class="control"><label for="intensity2">Intensity 2: </label><input type="range" id="intensity2" min="0" max="100" value="50"></div><div class="control"><label for="intensity3">Intensity 3: </label><input type="range" id="intensity3" min="0" max="100" value="50"></div><div class="control"><label for="intensity4">Intensity 4: </label><input type="range" id="intensity4" min="0" max="100" value="50"></div><div class="control"><label for="hue1">Hue 1: </label><input type="range" id="hue1" min="0" max="360" value="180"></div><div class="control"><label for="hue2">Hue 2: </label><input type="range" id="hue2" min="0" max="360" value="180"></div><div class="control"><label for="hue3">Hue 3: </label><input type="range" id="hue3" min="0" max="360" value="180"></div><div class="control"><label for="hue4">Hue 4: </label><input type="range" id="hue4" min="0" max="360" value="180"></div><div class="control"><label for="saturation1">Saturation 1: </label><input type="range" id="saturation1" min="0" max="100" value="50"></div><div class="control"><label for="saturation2">Saturation 2: </label><input type="range" id="saturation2" min="0" max="100" value="50"></div><div class="control"><label for="saturation3">Saturation 3: </label><input type="range" id="saturation3" min="0" max="100" value="50"></div><div class="control"><label for="saturation4">Saturation 4: </label><input type="range" id="saturation4" min="0" max="100" value="50"></div><div class="control"><label for="lightness1">Lightness 1: </label><input type="range" id="lightness1" min="0" max="100" value="50"></div><div class="control"><label for="lightness2">Lightness 2: </label><input type="range" id="lightness2" min="0" max="100" value="50"></div><div class="control"><label for="lightness3">Lightness 3: </label><input type="range" id="lightness3" min="0" max="100" value="50"></div><div class="control"><label for="lightness4">Lightness 4: </label><input type="range" id="lightness4" min="0" max="100" value="50"></div><button id="saveButton">Save Image</button><input type="button" id="openFileButton" value="Upload Image"></div><button id="toggleButton">Toggle Controls</button><script>const uploadImage=document.getElementById('uploadImage');const canvas=document.getElementById('canvas');const ctx=canvas.getContext('2d');const saveButton=document.getElementById('saveButton');const openFileButton=document.getElementById('openFileButton');const toggleButton=document.getElementById('toggleButton');const controls=document.getElementById('controls');const frequencySliders=[document.getElementById('frequency1'),document.getElementById('frequency2'),document.getElementById('frequency3'),document.getElementById('frequency4')];const intensitySliders=[document.getElementById('intensity1'),document.getElementById('intensity2'),document.getElementById('intensity3'),document.getElementById('intensity4')];const hueSliders=[document.getElementById('hue1'),document.getElementById('hue2'),document.getElementById('hue3'),document.getElementById('hue4')];const saturationSliders=[document.getElementById('saturation1'),document.getElementById('saturation2'),document.getElementById('saturation3'),document.getElementById('saturation4')];const lightnessSliders=[document.getElementById('lightness1'),document.getElementById('lightness2'),document.getElementById('lightness3'),document.getElementById('lightness4')];let imgData,width,height;toggleButton.addEventListener('click',()=>{controls.style.display=controls.style.display==='none'?'flex':'none';});openFileButton.addEventListener('click',()=>{uploadImage.click();});uploadImage.addEventListener('change',(event)=>{const file=event.target.files[0];const reader=new FileReader();reader.onload=(e)=>{const img=new Image();img.onload=()=>{canvas.width=img.width;canvas.height=img.height;ctx.drawImage(img,0,0);imgData=ctx.getImageData(0,0,canvas.width,canvas.height);applyStaticNoise();};img.src=e.target.result;};reader.readAsDataURL(file);});function applyStaticNoise(){const data=imgData.data;const output=new Uint8ClampedArray(data.length);const frequencies=frequencySliders.map(slider=>parseFloat(slider.value));const intensities=intensitySliders.map(slider=>parseFloat(slider.value)/100);const hues=hueSliders.map(slider=>parseInt(slider.value));const saturations=saturationSliders.map(slider=>parseInt(slider.value)/100);const lightnesses=lightnessSliders.map(slider=>parseInt(slider.value)/100);for(let y=0;y<canvas.height;y++){for(let x=0;x<canvas.width;x++){const index=(y*canvas.width+x)*4;const noise=(Math.random()-0.5)*255*intensities.reduce((a,b)=>a+b,0)/4;let[r,g,b]=[data[index]+noise*frequencies.reduce((a,b)=>a+b,0)/4,data[index+1]+noise*frequencies.reduce((a,b)=>a+b,0)/4,data[index+2]+noise*frequencies.reduce((a,b)=>a+b,0)/4];[r,g,b]=applyHSLAdjustment(r,g,b,hues.reduce((a,b)=>a+b,0)/4,saturations.reduce((a,b)=>a+b,0)/4,lightnesses.reduce((a,b)=>a+b,0)/4);output[index]=r;output[index+1]=g;output[index+2]=b;output[index+3]=data[index+3];}}const outputImageData=new ImageData(output,canvas.width,canvas.height);ctx.putImageData(outputImageData,0,0);}function applyHSLAdjustment(r,g,b,h,s,l){let[hue,saturation,lightness]=rgbToHsl(r,g,b);hue=(hue*360+h)%360/360;saturation=Math.min(saturation+s,1);lightness=Math.min(lightness+l,1);return hslToRgb(hue,saturation,lightness);}function rgbToHsl(r,g,b){r/=255;g/=255;b/=255;const max=Math.max(r,g,b),min=Math.min(r,g,b);let h,s,l=(max+min)/2;if(max==min){h=s=0;}else{const d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}h/=6;}return[h,s,l];}function hslToRgb(h,s,l){let r,g,b;if(s==0){r=g=b=l;}else{const hue2rgb=(p,q,t)=>{if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/3)return q;if(t<1/2)return p+(q-p)*(2/3-t)*6;return p;}const q=l<0.5?l*(1+s):l+s-l*s;const p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}return[Math.round(r*255),Math.round(g*255),Math.round(b*255)];}frequencySliders.forEach(slider=>slider.addEventListener('input',applyStaticNoise));intensitySliders.forEach(slider=>slider.addEventListener('input',applyStaticNoise));hueSliders.forEach(slider=>slider.addEventListener('input',applyStaticNoise));saturationSliders.forEach(slider=>slider.addEventListener('input',applyStaticNoise));lightnessSliders.forEach(slider=>slider.addEventListener('input',applyStaticNoise));saveButton.addEventListener('click',()=>{const link=document.createElement('a');const timestamp=new Date().toISOString().replace(/[:.]/g,'-');const fileName=`heuristic_vision_${timestamp}.png`;link.download=fileName;link.href=canvas.toDataURL('image/png',1.0);link.click();});</script></body></html>
