<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Consciousness Visualization</title><style>body { margin: 0; overflow: hidden; background-color: #121212; color: white; font-family: Arial, sans-serif; } #controls { position: absolute; top: 20px; left: 20px; z-index: 1; color: #fff; display: none; max-height: 80vh; overflow-y: auto; background: rgba(0, 0, 0, 0.8); padding: 10px; border-radius: 8px; } .slider { width: 100%; margin-bottom: 10px; } .slider-label { display: flex; justify-content: space-between; align-items: center; } #toggleButton { position: absolute; top: 20px; right: 20px; z-index: 2; background-color: rgba(255, 255, 255, 0.5); color: black; border: none; padding: 10px; cursor: pointer; border-radius: 8px; } #zoomSlider { position: absolute; top: 80px; right: 20px; z-index: 2; background-color: rgba(255, 255, 255, 0.5); border-radius: 8px; padding: 5px; } #inputSection { position: absolute; top: 60px; left: 20px; z-index: 3; } #outputSection { position: absolute; top: 120px; left: 20px; z-index: 3; color: white; } input[type="text"] { padding: 5px; border: none; border-radius: 5px; width: calc(100% - 10px); } button { background-color: #1e90ff; color: white; border: none; padding: 10px; cursor: pointer; border-radius: 5px; margin-top: 5px; } </style></head><body><button id="toggleButton">Show Controls</button><div id="controls"><div id="layerControls"></div><button id="addLayerButton">Add Layer</button><button id="saveButton">Save</button></div><div id="zoomSlider"><div class="slider-label"><label for="zoom">Zoom:</label><span id="zoomValue">1</span></div><input type="range" id="zoom" class="slider" min="0.5" max="2" step="0.01" value="1"></div><div id="inputSection"><input type="text" id="textInput" placeholder="Enter words" /><button id="processButton">Process</button></div><div id="outputSection"><p id="outputText"></p></div><script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.9.0/dist/tf.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/toxicity@1.2.2"></script><script>const hexagrams=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63];const colors=['#32CD32','#1E90FF','#FFD700','#FF4500','#FFC0CB','#A52A2A','#800080','#F0E68C'];const letters={'A':{speed:0.5,amplitude:0.5,separation:0.2,direction:0},'B':{speed:0.6,amplitude:0.6,separation:0.2,direction:10},'C':{speed:0.4,amplitude:0.4,separation:0.2,direction:20},'D':{speed:0.7,amplitude:0.7,separation:0.3,direction:30},'E':{speed:0.3,amplitude:0.3,separation:0.1,direction:40},'F':{speed:0.8,amplitude:0.8,separation:0.4,direction:50},'G':{speed:0.9,amplitude:0.9,separation:0.5,direction:60},'H':{speed:0.5,amplitude:0.5,separation:0.2,direction:70},'I':{speed:0.6,amplitude:0.6,separation:0.2,direction:80},'J':{speed:0.4,amplitude:0.4,separation:0.2,direction:90},'K':{speed:0.7,amplitude:0.7,separation:0.3,direction:100},'L':{speed:0.3,amplitude:0.3,separation:0.1,direction:110},'M':{speed:0.8,amplitude:0.8,separation:0.4,direction:120},'N':{speed:0.9,amplitude:0.9,separation:0.5,direction:130},'O':{speed:0.5,amplitude:0.5,separation:0.2,direction:140},'P':{speed:0.6,amplitude:0.6,separation:0.2,direction:150},'Q':{speed:0.4,amplitude:0.4,separation:0.2,direction:160},'R':{speed:0.7,amplitude:0.7,separation:0.3,direction:170},'S':{speed:0.3,amplitude:0.3,separation:0.1,direction:180},'T':{speed:0.8,amplitude:0.8,separation:0.4,direction:190},'U':{speed:0.9,amplitude:0.9,separation:0.5,direction:200},'V':{speed:0.5,amplitude:0.5,separation:0.2,direction:210},'W':{speed:0.6,amplitude:0.6,separation:0.2,direction:220},'X':{speed:0.4,amplitude:0.4,separation:0.2,direction:230},'Y':{speed:0.7,amplitude:0.7,separation:0.3,direction:240},'Z':{speed:0.3,amplitude:0.3,separation:0.1,direction:250}};const hexagramMeanings={0:'Creative power flows, a source of endless beginnings.',1:'Receptive ground, fertile and welcoming.',2:'Beginnings are challenging, like sprouts pushing through soil.',3:'Youthful folly invites learning, a dance with the unknown.',4:'Patience in waiting, like seeds in winter’s embrace.',5:'Conflict sharpens, yet can forge unity.',6:'An army marches, disciplined and purposeful.',7:'Together we are stronger, bound by common cause.',8:'Small efforts tame the wild, steady as a river carves stone.',9:'Treading carefully, each step mindful.',10:'Peace is a garden in bloom, serene and vibrant.',11:'Standstill, a pause, a breath between moments.',12:'Fellowship of men, connections that bind us.',13:'Great possession, treasure of the spirit.',14:'Modesty, a quiet strength, unassuming.',15:'Enthusiasm, a fire that spreads joy.',16:'Following, like the moon’s dance with the tides.',17:'Work on the decayed, renewal through effort.',18:'Approach with care, like a deer in the meadow.',19:'Contemplation, the mind’s still pond.',20:'Bite through, break the shell to reach the heart.',21:'Grace, an elegance in motion.',22:'Splitting apart, a necessary division.',23:'Return, the cycle renews.',24:'Innocence, pure and unblemished.',25:'Great taming power, a harnessed force.',26:'Corners of the mouth, nourishment taken in.',27:'Preponderance of the great, a peak moment.',28:'The abysmal, depths unexplored.',29:'The clinging, a flame that burns bright.',30:'Influence, a touch that sways.',31:'Duration, steadfast and enduring.',32:'Retreat, a step back to gain perspective.',33:'Great power, a force to be reckoned with.',34:'Progress, each step forward.',35:'Darkening of the light, shadows lengthen.',36:'The family, roots and branches intertwined.',37:'Opposition, forces in conflict.',38:'Obstruction, a barrier to overcome.',39:'Deliverance, freedom from constraint.',40:'Decrease, a necessary reduction.',41:'Increase, growth and abundance.',42:'Breakthrough, barriers shattered.',43:'Coming to meet, paths converge.',44:'Gathering together, strength in numbers.',45:'Pushing upward, reaching for the heights.',46:'Oppression, a weight to bear.',47:'The well, source of sustenance.',48:'Revolution, change in the air.',49:'The cauldron, transformation within.',50:'The arousing, an awakening.',51:'Keeping still, like a mountain in repose.',52:'Development, a flower in bloom.',53:'Marrying maiden, union and harmony.',54:'Abundance, a harvest of plenty.',55:'The wanderer, journey without end.',56:'The gentle, a breeze that soothes.',57:'The joyous, laughter that lifts the spirit.',58:'Dispersion, scattering like seeds in the wind.',59:'Limitation, boundaries defined.',60:'Inner truth, a light within.',61:'Small preponderance, details matter.',62:'After completion, the cycle begins anew.',63:'Before completion, anticipation in the air.'};let scene,camera,renderer,layers=[],layerCount=0;function init(){scene=new THREE.Scene();camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);camera.position.z=5;renderer=new THREE.WebGLRenderer();renderer.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(renderer.domElement);document.getElementById('addLayerButton').addEventListener('click',()=>addLayer(prompt('Enter a letter:')));document.getElementById('saveButton').addEventListener('click',saveImage);document.getElementById('toggleButton').addEventListener('click',toggleControls);document.getElementById('processButton').addEventListener('click',processInput);window.addEventListener('resize',onWindowResize,false);window.addEventListener('deviceorientation',handleOrientation,true);document.getElementById('zoom').addEventListener('input',handleZoom);renderer.domElement.addEventListener('touchstart',onTouchStart,false);renderer.domElement.addEventListener('touchmove',onTouchMove,false);for(let i=0;i<9;i++){addLayer();}setupAudio();}function toggleControls(){const controls=document.getElementById('controls');const toggleButton=document.getElementById('toggleButton');if(controls.style.display==='none'){controls.style.display='block';toggleButton.textContent='Hide Controls';}else{controls.style.display='none';toggleButton.textContent='Show Controls';}}function handleZoom(event){const zoom=event.target.value;document.getElementById('zoomValue').textContent=zoom;scene.scale.set(zoom,zoom,zoom);}function addLayer(letter='A'){layerCount++;if(layerCount>9)return;const hexagram=getRandomHexagram();const config=getLetterConfig(letter);const layerControls=document.getElementById('layerControls');const layerDiv=document.createElement('div');layerDiv.id=`layer${layerCount}`;layerDiv.innerHTML=`<div class="slider-label"><label for="speedSlider${layerCount}">Layer ${layerCount} Speed:</label><span id="speedValue${layerCount}">${config.speed}</span></div><input type="range" id="speedSlider${layerCount}" class="slider" min="-2" max="2" step="0.01" value="${config.speed}"><div class="slider-label"><label for="amplitudeSlider${layerCount}">Layer ${layerCount} Amplitude:</label><span id="amplitudeValue${layerCount}">${config.amplitude}</span></div><input type="range" id="amplitudeSlider${layerCount}" class="slider" min="0.1" max="2" step="0.01" value="${config.amplitude}"><div class="slider-label"><label for="separationSlider${layerCount}">Layer ${layerCount} Separation:</label><span id="separationValue${layerCount}">${config.separation}</span></div><input type="range" id="separationSlider${layerCount}" class="slider" min="0.01" max="1" step="0.01" value="${config.separation}"><div class="slider-label"><label for="directionSlider${layerCount}">Layer ${layerCount} Direction:</label><span id="directionValue${layerCount}">${config.direction}</span></div><input type="range" id="directionSlider${layerCount}" class="slider" min="0" max="360" step="1" value="${config.direction}">`;layerControls.appendChild(layerDiv);createLayer(layerCount,hexagram,colors[(layerCount-1)%colors.length],config);}function createLayer(index,hexagram,color,config){const geometry=new THREE.PlaneGeometry(10,10,100,100);const uniforms={time:{value:0},speed:{value:config.speed},amplitude:{value:config.amplitude},separation:{value:config.separation},direction:{value:config.direction},touchPosition:{value:new THREE.Vector2(0,0)}};const material=new THREE.ShaderMaterial({uniforms:uniforms,vertexShader:`uniform float time;uniform float speed;uniform float amplitude;uniform float separation;uniform float direction;uniform vec2 touchPosition;varying vec2 vUv;void main() {vUv=uv;vec3 pos=position;float angle=radians(direction);float dx=cos(angle)*position.x-sin(angle)*position.y;float dy=sin(angle)*position.x+cos(angle)*position.y;float dist=length(vec2(dx,dy)-touchPosition);pos.z+=sin((dx+dy)*10.0-time*speed-dist)*amplitude;pos.z+=separation*${index-1}.0;gl_Position=projectionMatrix*modelViewMatrix*vec4(pos,1.0);}`,fragmentShader:`uniform vec3 color;varying vec2 vUv;void main() {gl_FragColor=vec4(color,1.0)*vec4(vUv,1.0,1.0);}`,wireframe:true,transparent:true,opacity:0.5});material.uniforms.color={value:new THREE.Color(color)};const plane=new THREE.Mesh(geometry,material);scene.add(plane);layers.push({mesh:plane,uniforms:uniforms});}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight;camera.updateProjectionMatrix();renderer.setSize(window.innerWidth,window.innerHeight);}function animate(){requestAnimationFrame(animate);layers.forEach(layer=>{layer.uniforms.time.value+=0.01;});renderer.render(scene,camera);}function saveImage(){renderer.render(scene,camera);const link=document.createElement('a');link.href=renderer.domElement.toDataURL('image/png');link.download=`wave_visualization_${Date.now()}.png`;link.click();}function onTouchStart(event){event.preventDefault();const touch=event.touches[0];const x=(touch.clientX/window.innerWidth)*2-1;const y=-(touch.clientY/window.innerHeight)*2+1;layers.forEach(layer=>{layer.uniforms.touchPosition.value.set(x,y);});}function onTouchMove(event){event.preventDefault();const touch=event.touches[0];const x=(touch.clientX/window.innerWidth)*2-1;const y=-(touch.clientY/window.innerHeight)*2+1;layers.forEach(layer=>{layer.uniforms.touchPosition.value.set(x,y);});}function handleOrientation(event){const alpha=event.alpha;const beta=event.beta;const gamma=event.gamma;layers.forEach(layer=>{layer.uniforms.direction.value=(layer.uniforms.direction.value+gamma)%360;layer.uniforms.amplitude.value=Math.abs(beta)/90;layer.uniforms.speed.value=Math.abs(alpha)/360;});}async function processInput(){const input=document.getElementById('textInput').value.toUpperCase();if(input){const toxicity=await loadToxicityModel();const predictions=await toxicity.classify([input]);let sentiment="neutral";predictions.forEach(prediction=>{if(prediction.results[0].match){sentiment=prediction.label;}});layers.forEach((layer,index)=>{if(index<input.length){const letter=input[index];const config=getLetterConfig(letter);layer.uniforms.speed.value=config.speed;layer.uniforms.amplitude.value=config.amplitude;layer.uniforms.separation.value=config.separation;layer.uniforms.direction.value=config.direction;}});displayResponse(sentiment);}}async function loadToxicityModel(){const threshold=0.9;return await toxicity.load(threshold);}function displayResponse(sentiment){let response='';layers.forEach(layer=>{const speed=layer.uniforms.speed.value;const amplitude=layer.uniforms.amplitude.value;const separation=layer.uniforms.separation.value;const direction=layer.uniforms.direction.value;const hexagram=Math.floor((speed+amplitude+separation+direction)%64);const meaning=getHexagramMeaning(hexagram);response+=`Hexagram: ${hexagram}, Meaning: ${meaning} (${sentiment})<br>`;});document.getElementById('outputText').innerHTML=response;}function getRandomHexagram(){return hexagrams[Math.floor(Math.random()*hexagrams.length)];}function getLetterConfig(letter){return letters[letter]||letters['A'];}function getHexagramMeaning(hexagram){return hexagramMeanings[hexagram];}let audioContext,analyser,dataArray;function setupAudio(){audioContext=new(window.AudioContext||window.webkitAudioContext)();navigator.mediaDevices.getUserMedia({audio:true}).then(stream=>{const source=audioContext.createMediaStreamSource(stream);analyser=audioContext.createAnalyser();source.connect(analyser);analyser.fftSize=2048;const bufferLength=analyser.frequencyBinCount;dataArray=new Uint8Array(bufferLength);animateAudio();}).catch(err=>{console.error('Error accessing audio stream:',err);});}function animateAudio(){requestAnimationFrame(animateAudio);analyser.getByteTimeDomainData(dataArray);let sum=0;for(let i=0;i<dataArray.length;i++){sum+=Math.abs(dataArray[i]-128);}let average=sum/dataArray.length;layers.forEach(layer=>{layer.uniforms.amplitude.value=average/128;});}init();animate();</script></body></html>
